<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Target Management Board</title>
    <link rel="stylesheet" href="/static/styles/kanban.css">
    <style>
        .card {
            cursor: grab;
        }
        
        .card.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        
        .cards-container {
            min-height: 100px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Target Management Board</h1>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search organizations..." id="searchInput">
            <span class="search-clear" id="searchClear" onclick="clearSearch()">Ã—</span>
        </div>
    </div>

    <div class="board-container">
        <div class="board">
            <div class="column" id="low-priority">
                <div class="column-header">
                    <span>Low Priority</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('low-priority')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('low-priority', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('low-priority', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('low-priority', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="not-contacted">
                <div class="column-header">
                    <span>Not Contacted</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('not-contacted')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('not-contacted', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('not-contacted', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('not-contacted', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="initial-contact">
                <div class="column-header">
                    <span>Initial Contact</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('initial-contact')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('initial-contact', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('initial-contact', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('initial-contact', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="in-discussion">
                <div class="column-header">
                    <span>In Discussion</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('in-discussion')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('in-discussion', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('in-discussion', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('in-discussion', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="partnership-agreed">
                <div class="column-header">
                    <span>Partnership Agreed</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('partnership-agreed')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('partnership-agreed', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('partnership-agreed', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('partnership-agreed', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="partnership-active">
                <div class="column-header">
                    <span>Partnership Active</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('partnership-active')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('partnership-active', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('partnership-active', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('partnership-active', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>

            <div class="column" id="not-interested">
                <div class="column-header">
                    <span>Not Interested</span>
                    <div style="display: flex; align-items: center;">
                        <span class="column-count">0</span>
                        <div class="sort-button-container">
                            <button class="sort-button" onclick="toggleSort('not-interested')">â‹®</button>
                            <div class="sort-menu">
                                <div class="sort-option" onclick="sortColumn('not-interested', 'organization')">Sort by Name</div>
                                <div class="sort-option" onclick="sortColumn('not-interested', 'population')">Sort by Population</div>
                                <div class="sort-option" onclick="sortColumn('not-interested', 'median_income')">Sort by Income</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cards-container" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragleave(event)"></div>
            </div>
        </div>
    </div>

    <button class="toggle-activity-log" onclick="toggleActivityLog()">ðŸ“‹</button>
    <div class="activity-log">
        <div class="activity-log-header">Activity Log</div>
        <div class="activity-log-content"></div>
    </div>

    <div class="notes-container" style="display: none;">
        <div class="notes-header">
            <h2>Notes</h2>
            <button class="close-notes" onclick="closeNotes()">Ã—</button>
        </div>
        <div class="notes-content">
            <div class="notes-list"></div>
            <div class="notes-input-container">
                <input type="text" class="note-input" placeholder="Type a note and press Enter...">
                <button class="add-note-btn">Add Note</button>
            </div>
        </div>
    </div>

    <script src="/static/js/kanban.js"></script>
</body>
</html>